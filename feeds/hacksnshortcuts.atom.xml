<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Manish Barnwal</title><link href="http://manishbarnwal.github.io/" rel="alternate"></link><link href="http://manishbarnwal.github.io/feeds/hacksnshortcuts.atom.xml" rel="self"></link><id>http://manishbarnwal.github.io/</id><updated>2016-09-30T07:00:00-03:00</updated><entry><title>Shell commands come in handy for a data scientist</title><link href="http://manishbarnwal.github.io/blog/2016/09/30/shell_commands_for_data_scientist/" rel="alternate"></link><updated>2016-09-30T07:00:00-03:00</updated><author><name>Manish Barnwal</name></author><id>tag:manishbarnwal.github.io,2016-09-30:blog/2016/09/30/shell_commands_for_data_scientist/</id><summary type="html">&lt;p&gt;I am no expert of shell commands. I have been using them for quite some time and thought I give an attempt to list down the most common commands. I am writing these mostly from the perspective of a data-science guy. Let us get started.
&lt;br&gt;
&lt;br&gt;
I will use the file- ‘data.txt’ to illustrate these commands. ‘data.txt’ is a file having 200 rows and 8 columns. You can access the &lt;a href="https://github.com/ManishBarnwal/LearnNew/blob/master/LearnShellCommands/data.txt"&gt;data&lt;/a&gt; here.
&lt;br&gt;
&lt;br&gt;
&lt;strong&gt;cat&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Throws the the contents of the entire file at your terminal
    &lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
    &lt;code class="bash"&gt;cat data.txt
    &lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
We don’t want to bombard our terminal with the complete content of the file. Instead, if you want to have a complete look at the file, open the file in vim editor&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;vim&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Opens the file in the editor  &lt;br /&gt;
    &lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
    &lt;code class="bash"&gt;vim data.txt
    &lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;strong&gt;head&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Gives the top 10 rows of the text file at your terminal
    &lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
    &lt;code class="bash"&gt;head data.txt
    &lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;strong&gt;tail&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Gives the bottom 10 rows of the text file at your terminal
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="bash"&gt;tail -n 2 data.txt -- This will give you the bottom 2 rows of the file
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;&lt;/p&gt;
&lt;h4&gt;The piping operator&lt;/h4&gt;
&lt;p&gt;&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="bash"&gt;cat data.txt | head
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
Notice the &lt;strong&gt;|&lt;/strong&gt; operator. This is called pipe operator. Piping is a concept wherein you can perform a sequence of operations in a single command.
&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;So what exactly is piping?&lt;/h3&gt;
&lt;p&gt;A pipe is a facility of the shell that makes it easy to chain together multiple commands. When used between two Unix commands, it means that output from the first command should become the input to the second command. Just read the &lt;strong&gt;|&lt;/strong&gt; in the command as &lt;em&gt;pass the data onto&lt;/em&gt;. More on this operator later in the post.
&lt;br&gt;
&lt;br&gt;
&lt;strong&gt;wc&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;wc&lt;/strong&gt; is a fairly useful shell command that lets you count the number of lines(-l), words(-w) or characters(-c) in a given file
&lt;br&gt;
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="bash"&gt;wc -l data.txt -- gives you the number of lines in the file
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="bash"&gt;wc -w data.txt -- gives you the number of words in the file
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="shell"&gt;wc -c data.txt -- gives you the number of characters in the file
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="shell"&gt;head -n 1 data.txt| wc -w -- gives you the number of columns in the file
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;strong&gt;grep&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Consider ‘grep’ as a command to filter on the results you get. You may want to print all the lines in your file which have a particular phrase. Say for example you want to see people who are ‘Very Happy’. You simply pass this to grep command.&lt;/p&gt;
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="shell"&gt;grep 'Very Happy' data.txt | head
-- gives you the top 10 rows having 'Very Happy'
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Let us say, we want to count the number of users who are ‘Not Happy’
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="shell"&gt;grep 'Not Happy' data.txt | wc -l
-- gives you the top 10 rows having 'Very Happy'
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;strong&gt;sort&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If you want to sort the data based on some column, say ‘Score’; ‘Score’ is the 3rd column in the file- data.txt&lt;/p&gt;
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="shell"&gt;sort -t ',' -k 3 -n -r data.txt |head -5
-- gives you the top 10 rows having 'Very Happy'
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Explanation: -t is used to specify the delimiter; ‘,’ in this case.&lt;/p&gt;
&lt;p&gt;If the delimiter is ‘\t’, we don’t need to specify -t argument. Space is taken as delimiter by default.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;k is used to specify the column based on which you want to sort the data; 3 in this case&lt;/li&gt;
&lt;li&gt;n is to specify that sorting is to be done numerically&lt;/li&gt;
&lt;li&gt;r is to imply that the sorting is descending
&lt;br&gt;
&lt;br&gt;
&lt;strong&gt;cut&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This command gives you only specific column. Say you want to see only the 4th column of the file.
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="shell"&gt;cut data.txt -d ',' -f 4 |head
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
Explanation: ‘,’ is the delimiter. 4 is the column number that you want to see.
&lt;br&gt;
&lt;br&gt;
&lt;strong&gt;uniq&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Do not confuse this command for ‘unique’. It is slightly different. This &lt;strong&gt;removes sequential duplicates&lt;/strong&gt;.
So if you want to get unique values from a column, you need to first sort the data and then use this &lt;em&gt;uniq&lt;/em&gt; command in sequence.&lt;/p&gt;
&lt;p&gt;To get the unique of a column, say the 2nd column
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="shell"&gt;cut data.txt -d ',' -f 2 |sort|uniq
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
This command could be used with argument -c to count the occurrence of these distinct values. Something like to count distinct in SQL.
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="shell"&gt;cut data.txt -d ',' -f 2 |sort|uniq-c
&lt;/code&gt;&lt;/pre&gt;
&lt;br&gt;
&lt;strong&gt;tr&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;strong&gt;tr&lt;/strong&gt; stands for translate&lt;/p&gt;
&lt;p&gt;‘Find and Replace’ function that we have in excel. Yes we have that in UNIX as well.
A typical use of this command that I use on regular basis is that I get the file from HIVE which are tab delimited. And say I want to convert it to ‘,’ delimited.&lt;/p&gt;
&lt;p&gt;You may also want to replace certain characters in file with something else using the &lt;em&gt;tr&lt;/em&gt; command.&lt;/p&gt;
&lt;pre style="font-size:60%; padding:7px; margin:0em;"&gt;
&lt;code class="shell"&gt;cat data.txt | tr ',' '\t'  -- Changed ',' delimited to '\t' delimited
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;br&gt;
&lt;strong&gt;Save to a new file or append to an existing file&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;gt;&lt;/strong&gt; and &lt;strong&gt;&amp;gt;&amp;gt;&lt;/strong&gt; operator
Say you want to save the output of operations to some file. You use ‘&amp;gt;’ or ‘&amp;gt;&amp;gt;’ depending on whether you want it to be a new file or you want to append it to an existing file.
&lt;br&gt;
&lt;br&gt;
I will update this list as and when I see a command deserving enough to be in a data scientist’s toolbox.&lt;/p&gt;</summary><category term="shell-commands"></category></entry><entry><title>Vim/Vi editor shortcuts</title><link href="http://manishbarnwal.github.io/blog/2016/09/22/vim_shortcuts/" rel="alternate"></link><updated>2016-09-22T04:00:00-03:00</updated><author><name>Manish Barnwal</name></author><id>tag:manishbarnwal.github.io,2016-09-22:blog/2016/09/22/vim_shortcuts/</id><summary type="html">&lt;p&gt;Repetitive tasks should be done using as many shortcuts as possible. You are not doing  anything new and hence not even an extra minute should be spent on doing the same. This post refers to the shortcuts that come in handy when working on the vi/vim editor.&lt;/p&gt;
&lt;p&gt;This is not an exhaustive list. These are the ones I use frequently. Feel free to comment down your favorite shortcuts.
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;Navigation keys&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;0&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Moves cursor to the start of the line&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Moves cursor to the end of the line&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;w&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Moves forward one word&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;b&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Moves backward one word&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;G&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Moves to the end of the file&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1 + G&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Moves to the beginning of file
 &lt;br&gt;
 &lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Delete text&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;dw&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Deletes a word ahead of the cursor&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;db&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Deletes a word behind the cursor&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;d0&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Deletes the complete line till beginning&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;d$&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Deletes the complete line till the end&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;dd&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Deletes the complete line&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;10dd&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Deletes the following 5 lines&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;dG&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Deletes till the end of the file
 &lt;br&gt;
 &lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Undo/Redo operation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;u&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Undo the last operation&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl + r&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Redo the last undo
&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Search and Replace keys&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;/search_text&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Finds 'search_text' in file going forward&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;?search_text&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Finds 'search_text' in file going backward&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;n&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Finds the next occurrence of 'search_text'&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;N&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Finds the previous occurrence of 'search_text'&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;:%s/replace_what/replace_with&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Replaces first occurrence&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;:%s/replace_what/replace_with/g&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Replaces all occurrences globally&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;:%s/replace_what/replace_with/c&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Asks for confirmation
&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Save and quit&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;:q!&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Force quit without saving&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;:wq&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Saves the changes made to the document&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;:wq!&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Forcefully saves the changes made to the document&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;:w new_file_name&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Saves the file to a new file named new_file_name
&lt;br&gt;
&lt;br&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Command line shortcuts&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Ctrl + a&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Brings to the beginning of the line&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl + e&lt;/strong&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;   Brings to the end of the line&lt;/li&gt;
&lt;/ul&gt;</summary><category term="vi/vim"></category></entry></feed>